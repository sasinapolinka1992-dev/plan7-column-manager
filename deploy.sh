
#!/bin/bash

# Цвета для вывода
GREEN='\033[0;32m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

echo -e "${BLUE}Запуск процесса деплоя Plan7...${NC}"

# 1. Удаление старой сборки
echo -e "Очистка папки dist..."
rm -rf dist

# 2. Установка зависимостей
echo -e "Проверка зависимостей..."
npm install

# 3. Сборка проекта
echo -e "Сборка проекта..."
npm run build

# 4. Проверка результата
if [ -d "dist" ]; then
    echo -e "${GREEN}Сборка успешно завершена!${NC}"
    echo -e "Папка ${BLUE}dist${NC} готова к загрузке на сервер."
else
    echo -e "\033[0;31mОшибка при сборке проекта.\033[0m"
    exit 1
fi
